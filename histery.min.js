!function(a,b,c,d){var e,f,g,h,i,j,k=a.history||{},l=[],m={},n=[],o=0,p=[],q={}.constructor,r=function(a){return"function"==typeof a},s=function(a){return"string"==typeof a},t=function(a){return a&&a.constructor===q},u=function(a,d){return d=b,a&&(d=c.createElement("a"),d.href=a),d=d.pathname+d.search+(d.hash.length>1?d.hash:""),"/"===d[0]?d:"/"+d},v=function(a,b,c,d,e){if(b instanceof RegExp?(c=0,d=a.replace(b,function(){return c++,e=Array.prototype.slice.call(e=arguments,1,e.length-2),""})):r(b)?(c=1,e=b(a)):a===b&&(c=1,e=[]),1===c&&!d)return e},w=function(a,b,c,d,e){if(a.replace(/^([^?#]+)(?:\?([^#]*))?(?:#(.*))?$/,function(a,b,f,g){c=b||"",d=f||"",e=g||""}),c&&(t(b)?(c=b.pathname?v(c,b.pathname):[],d=b.search?v(d,b.search):[],e=b.hash?v(e,b.hash):[]):(c=v(c,b),d=e=[]),c&&d&&e))return[a].concat(c,d,e)},x=function(a,b,c,d,e){for(d=0;d<b.length;d++)e=b[d],e[0]===a&&c.push(e[1])},y=function(a,b){for(;b=a.shift();)b()},z=function(a,b,c,d){if(a=a||[],b=b||[],a.length!==b.length)d=!1;else for(d=!0,c=2;c<a.length;c++)if(!e.eq(a[c],b[c])){d=!1;break}return d};a.$H=e={state:function(a,b){if(void 0===b)return i[a];null===b?delete i[a]:i[a]=b,k.replaceState&&k.replaceState(i,null)},run:function(){var a=c.createEvent("HTMLEvents"),d=function(a){"popstate"!==a.type&&j===b.href||(h=!0,i=k.state||{},e.go()),j="popstate"===a.type?b.href:void 0};return addEventListener("popstate",d),addEventListener("hashchange",d),a.initEvent("popstate",!0,!0),dispatchEvent(a),e},go:function(a,c,d){var e,j,o,q,s=[],t=!1,v={},A=[],B=[];for(a=u(a),j=0;j<l.length;j++)f=l[j],(e=f.h)&&!(o=w(m[a]||a,e))||(e?v[j]=t=!0:o=[a],function(a,b){a.unshift(void 0),a[0]=z(f.cur,a),c||(f.cur=a);var d=f,g=!!e;r(b)&&(b=b()),b.go&&A.push([g,function(){b.go.apply(b,a)}]),b.leave&&B.push([g,function(){a[0]=z(d.cur,a),b.leave.apply(b,a)}])}(o,f.c));if(x(t,A,s),q=s.length>0,!c){for(e=0;e<l.length;e++)f=l[e],f.cur=t&&v[e]||!t&&!f.h?f.cur:null;for(y(p),x(t,B,p),g&&(k.pushState&&s.length?h||k[d?"replaceState":"pushState"](i={},null,a):b.href=a),g=!0,h=!1,y(s),e=0;e<n.length;e++)n[e](a)}return q},on:function(a,b){return void 0===a?n.push(b):(s(a)&&s(b)?m[u(a)]=u(b):l.push({h:a,c:b,cur:null}),a||o++),e},off:function(a,b){var c,d;if(s(a)&&s(b)&&m[c=u(a)]===u(b))delete m[c];else if(void 0===a)for(c=n.length;c--;)n[c]===b&&n.splice(c,1);else for(a||b||(l=[]),c=l.length;c--;)d=l[c],d.h!==a||b&&d.c!==b||(l.splice(c,1),d.h||o--);return e},eq:function a(b,c){var d,e,f;if(t(b)&&t(c)){d=[],e=[];for(f in b){if(!(f in c))return!1;d.push(f)}for(f in c){if(!(f in b))return!1;e.push(f)}if(d.length!==e.length)return!1;for(f=0;f<d.length;f++)if(!a(b[d[f]],c[d[f]]))return!1;return!0}if(b instanceof Array&&c instanceof Array&&b.length===c.length){for(f=b.length;f--;)if(!a(b[f],c[f]))return!1;return!0}return b===c}}}(window,location,document);